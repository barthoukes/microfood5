package com.hha.types

import com.hha.common.CookingState

/// @brief State where the dialog is in.
enum class ECookingState(val value: Short) {
   COOKING_STATE_UNDEFINED(0),
   COOKING_ORDER_ENTRY(1),
   COOKING_IN_KITCHEN(100),
   COOKING_IN_KITCHEN_DISPLAY(101),
   COOKING_READY_KITCHEN(102),
   COOKING_DONE(108),
   UNRECOGNIZED(-1);

   /**
    * Converts this custom ECookingState enum to the gRPC-generated CookingState enum.
    * This is useful for sending data over gRPC.
    */
   fun toCookingState(): CookingState
   {
      // The forNumber() method is automatically generated by gRPC for enums.
      // It finds the enum entry with the matching integer value.
      val state: CookingState = when (this)
      {
         COOKING_STATE_UNDEFINED -> CookingState.COOKING_STATE_UNDEFINED
         COOKING_ORDER_ENTRY -> CookingState.COOKING_ORDER_ENTRY
         COOKING_IN_KITCHEN -> CookingState.COOKING_IN_KITCHEN
         COOKING_IN_KITCHEN_DISPLAY -> CookingState.COOKING_IN_KITCHEN_DISPLAY
         COOKING_READY_KITCHEN -> CookingState.COOKING_READY_KITCHEN
         COOKING_DONE -> CookingState.COOKING_DONE
         else -> CookingState.UNRECOGNIZED
      }
      return state
   }

   companion object {
      /**
       * Get EnterState from a short value
       * @param value The integer value to look up
       * @return Corresponding EnterState or null if not found
       */
      fun fromInt(value: Short): ECookingState? {
         return ECookingState.entries.firstOrNull { it.value == value }
      }
   }
}